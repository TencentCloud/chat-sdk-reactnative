type: api
group: messageManager
name: searchLocalMessages
features: 搜索本地消息
version: 1.1.1
ignore: false
deprecated:
precautions:
  info:
    - web不支持该接口
    - 消息搜索只能搜索本地存储的消息，例如接收到的消息、调用拉取历史消息接口得到的消息等。
    - 消息搜索功能仅 Flutter 3.8.0以上版本支持。
    - 本地消息搜索为 IM 旗舰版功能，购买 [旗舰版套餐包](https://buy.cloud.tencent.com/avc?from=17473) 后可使用，详见 [价格说明](https://cloud.tencent.com/document/product/269/11673?from=17175#.E5.9F.BA.E7.A1.80.E6.9C.8D.E5.8A.A1.E8.AF.A6.E6.83.85)。
    -
    - '[搜索全部会话的消息](https://cloud.tencent.com/document/product/269/77573#.E6.90.9C.E7.B4.A2.E5.85.A8.E9.83.A8.E4.BC.9A.E8.AF.9D.E7.9A.84.E6.B6.88.E6.81.AF)'
    - '[搜索指定会话的消息](https://cloud.tencent.com/document/product/269/77573#.E6.90.9C.E7.B4.A2.E6.8C.87.E5.AE.9A.E4.BC.9A.E8.AF.9D.E7.9A.84.E6.B6.88.E6.81.AF)'
    - '[搜索典型场景示例](https://cloud.tencent.com/document/product/269/77573#.E6.90.9C.E7.B4.A2.E5.85.B8.E5.9E.8B.E5.9C.BA.E6.99.AF.E7.A4.BA.E4.BE.8B)'
    - '[搜索自定义消息](https://cloud.tencent.com/document/product/269/77573#.E6.90.9C.E7.B4.A2.E8.87.AA.E5.AE.9A.E4.B9.89.E6.B6.88.E6.81.AF)'
    - '[搜索富媒体消息](https://cloud.tencent.com/document/product/269/77573#.E6.90.9C.E7.B4.A2.E5.AF.8C.E5.AA.92.E4.BD.93.E6.B6.88.E6.81.AF)'
params:
  - type: '[V2TimMessageSearchParam]()'
    required: true
    name: searchParam	
    description: 搜索设置参数
returnExample: |-
    V2TimValueCallback<V2TimMessageSearchResult>

    {
        code : number
        desc : string
        data : {
          messageSearchResultItems : V2TimMessageSearchResultItem[]// 符合搜索条件的消息列表
          totalCount : number // 符合搜索条件的消息数量
        }
    }
returnValues:
    - type: number
      name: code
      description: 请求结果[错误码](https://cloud.tencent.com/document/product/269/1671)
    - type: string
      name: desc
      description: 请求结果描述
    - type: '[V2TimMessageSearchResult]()'
      name: data
      description: 符合搜索条件的所有信息
example: true
