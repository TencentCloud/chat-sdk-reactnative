type: api
group: messageManager
name: createSoundMessage
features: 创建音频消息
version: 1.1.1
ignore: false
deprecated:
precautions:
  info:
    - 创建语音消息需要先获取到本地语音文件路径和语音时长，其中语音时长可用于接收端 UI 显示。
    - 发送消息过程中，会先将语音文件上传至服务器，同时回调上传进度。上传成功后再发送消息。
params:
  - type: string
    required: true
    name: soundPath
    description: 音频文件地址
  - type: number
    required: true
    name: duration
    description: 音频文件时长
returnExample: |-
    V2TimValueCallback<V2TimMsgCreateInfoResult>
            
    {
        code: number,
        desc: string,
        data: {
            id: string,
            messageInfo: V2TimMessage,
        }
    }
returnValues:
    - type: number
      name: code
      description: 请求结果[错误码](https://cloud.tencent.com/document/product/269/1671)
    - type: string
      name: desc
      description: 请求结果描述
    - type: '[V2TimMsgCreateInfoResult]()'
      name: data
      description: 创建后的音频信息
example: true
