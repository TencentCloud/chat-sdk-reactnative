type: api
group: messageManager
name: insertC2CMessageToLocalStorage
features: 向C2C消息列表中添加一条消息
version: 1.1.1
ignore: false
deprecated:
precautions:
  info:
    - 只能插入文本消息，参数data为本文内容
    - 该接口主要用于满足向C2C聊天会话中插入一些提示性消息的需求，比如“您已成功发送消息”，这类消息有展示 在聊天消息区的需求，但并没有发送给其他人的必要。
    - insertC2CMessageToLocalStorage() 相当于一个被禁用了网络发送能力的 sendMessage() 接口。
    - 通过该接口 insert 的消息只存本地，程序卸载后会丢失。
params:
  - type: string
    required: true
    name: data
    description: 文本消息内容
  - type: string
    required: true
    name: userID
    description: 发送对象id
  - type: string
    required: true
    name: sender
    description: 发送者id
returnExample: |-
    V2TimValueCallback<V2TimMessage>

    {
        code : number
        desc : string
        data : {
          msgID: string
          timestamp: number
          progress: number
          sender: string
          nickName: string
          friendRemark: string
          faceUrl: string
          nameCard: string
          groupID: string
          userID: string
          status: number
          elemType: number
          textElem: V2TimTextElem
          customElem: V2TimCustomElem
          imageElem: V2TimImageElem
          soundElem: V2TimSoundElem
          videoElem: V2TimVideoElem
          fileElem: V2TimFileElem
          locationElem: V2TimLocationElem
          faceElem: V2TimFaceElem
          groupTipsElem: V2TimGroupTipsElem
          mergerElem: V2TimMergerElem
          localCustomData: string
          localCustomInt: number
          cloudCustomData: string
          isSelf: boolean
          isRead: boolean
          isPeerRead: boolean
          priority: number
          offlinePushInfo: V2TimOfflinePushInfo
          groupAtUserList: string[]
          seq: string
          random: number
          isExcludedFromUnreadCount: boolean
          isExcludedFromLastMessage: boolean
          id: string
          needReadReceipt: boolean
        }
    }
returnValues:
    - type: number
      name: code
      description: 请求结果[错误码](https://cloud.tencent.com/document/product/269/1671)
    - type: string
      name: desc
      description: 请求结果描述
    - type: '[V2TimMessage]()'
      name: data
      description: 创建后的插入信息
example: true
