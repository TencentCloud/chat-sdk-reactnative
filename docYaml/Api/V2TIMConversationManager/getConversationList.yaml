type: api
group: V2TIMConversationManager
name: getConversationList
features: 获取会话列表
version: 1.1.1
ignore: false
deprecated:
precautions:
  info:
    - 用户的会话以列表的形式返回，列表中存储的是 [V2TimConversation]() 对象。目前 IM SDK 对会话列表的排序规则为：
    - 该接口获取的会话列表默认已经按照会话对象的 orderKey 做了排序。orderKey 值越大，代表该会话排序越靠前。orderKey 字段是整型数，当发送新消息、接收新消息、设置草稿或置顶会话时，会话被激活，orderKey 字段会增大。
    - 该接口拉取的是本地缓存的会话，如果服务器会话有更新，SDK 内部会自动同步，然后在 [V2TimConversationListener]() 回调告知客户。
    - 
    - 本地存储的会话列表没有数量上限。
    - 云端存储的会话列表最大数量为 100。如果您希望扩展此数量，可以升级旗舰版。旗舰版用户可以在控制台配置最高数量为 500。
    - 长时间没有信息变更，该会话在云端最多保存 7 天。如需放宽限制，请 [联系我们](https://console.cloud.tencent.com/workorder/category)。
    - 本地存储的会话和云端存储的会话并不总是一致的，如果用户不主动调用 deleteConversation 接口删除本地的会话，该会话就会一直存在。而云端存储的会话最大只会保存 100 条，且对于长时间没有信息变更的会话，云端最多保存 7 天，所以不同的终端本地显示的会话可能会不一样。
    -
    - '[会话列表更新案例](https://cloud.tencent.com/document/product/269/77557#.E4.BC.9A.E8.AF.9D.E5.88.97.E8.A1.A8.E6.9B.B4.E6.96.B0)'
params:
  - type: string
    required: true
    name: nextSeq
    description: 分页拉取的游标，第一次默认取传 0，后续分页拉传上一次分页拉取成功回调里的 nextSeq
  - type: number
    required: true
    name: count
    description: 分页拉取的个数，一次分页拉取不宜太多，会影响拉取的速度，建议每次拉取 100 个会话
returnExample: |-
    V2TimValueCallback<{
            nextSeq?: string;
            isFinished?: boolean;
            conversationList?: V2TimConversation[];
        }>

    {
        code : number
        desc : string
        data : {
          conversationList : V2TimConversation[]//此次拉取到的消息列表
          isFinished : boolean//是否拉取完
          nextSeq : string//后续分页拉取的游标
        }
    }
returnValues:
    - type: number
      name: code
      description: 请求结果[错误码](https://cloud.tencent.com/document/product/269/1671)
    - type: string
      name: desc
      description: 请求结果描述符
    - type: '{
            nextSeq?: string;
            isFinished?: boolean;
            conversationList?: V2TimConversation[];
        }'
      name: data
      description: 此次拉取到的消息信息
example: true
